@{
        string Title = Model.WithoutSettings.String(BlogKeys.Title);
        string PageTitle = Context.String(BlogKeys.Title) + (string.IsNullOrWhiteSpace(Title) ? string.Empty : " - " + Title);
		System.Nullable<bool> local = Model.Get<bool>("local");
}
<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>@PageTitle</title>

	<!-- Custom styles for this template -->
	@if (!local.GetValueOrDefault()) {
		<link href="@Context.GetLink("/assets/css/combined.min.css")" rel="stylesheet">
	}
	else {
	<link href="@Context.GetLink("/assets/css/normalize.css")" rel="stylesheet">
	<link href="@Context.GetLink("/assets/css/typeplate.css")" rel="stylesheet">
	<link href="@Context.GetLink("/assets/css/main.css")" rel="stylesheet">
	}
	<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
	<link href="@Context.GetLink("/assets/vendor/highlight/styles/github-gist.css")" rel="stylesheet">
	<!-- RSS -->
	@if (Context.String(BlogKeys.RssPath) != null) {
	<link type="application/rss+xml" rel="alternate" title="@Context.String(BlogKeys.Title)" href="@Context.GetLink(Context.String(BlogKeys.RssPath))" />
	}
	@if (Context.String(BlogKeys.AtomPath) != null) {
	<link type="application/atom+xml" rel="alternate" title="@Context.String(BlogKeys.Title)" href="@Context.GetLink(Context.String(BlogKeys.AtomPath))" />
	}

	<meta name="application-name" content="@Context.String(BlogKeys.Title)" />
	<meta name="msapplication-tooltip" content="@Context.String(BlogKeys.Title)" />
	<meta name="msapplication-starturl" content="@Context.GetLink("/")" />

	<meta property="og:title" content="@PageTitle" />
	@* <meta property="og:image" content="@Blog.Image" /> *@
	<meta property="og:type" content="website" />
	<meta property="og:url" content="@Context.GetLink(Model, true)" />
	<!-- TODO: More social graph meta tags -->

	@Html.Partial("_Head")
</head>

<body>
    <div class="container">
		<!-- Navigation -->
        <header id="main-header">
            <h1 class="typl8-beta"><a class="navbar-brand" href="@Context.GetLink("/")">@Context.String(BlogKeys.Title)</a></h1>
			@if(Context.String(BlogKeys.Description) != null)
			{
				<p>@Context.String(BlogKeys.Description)</p>
			}
            <nav>
                <ul role="navigation">
					@Html.Partial("_Navbar") 
                </ul>
            </nav>
        </header>
        
		<!-- Main Content -->
        <main role="main">
			@if(IsSectionDefined("Header"))
			{
				@RenderSection("Header")
			}
			else
			{
				@Html.Partial("_Header")                             
			}	

            @RenderBody()
        </main>

		<!-- Footer -->
        <footer id="main-footer">
            @Html.Partial("_Footer")
        </footer>
    </div>


	@*
	<!-- Navigation -->
	<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
		<div class="container">
			<a class="navbar-brand" href="@Context.GetLink("/")">@Context.String(BlogKeys.Title)</a>
			<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
				Menu
				<i class="fa fa-bars"></i>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ml-auto">
					@Html.Partial("_Navbar") 
				</ul>
			</div>
		</div>
	</nav>

	<!-- Page Header -->
	@{
		string backgroundImage = null;
		if(Model.String(BlogKeys.Image) != null)
		{
			backgroundImage = $"background-image: url(\"{Model.String(BlogKeys.Image)}\")";
		}
	}
	<header class="masthead" style="@backgroundImage">
		<div class="overlay"></div>
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-md-10 mx-auto">
					@if(IsSectionDefined("Header"))
					{
						@RenderSection("Header")
					}
					else
					{
						@Html.Partial("_Header")                                            
					}					
				</div>
			</div>
		</div>
	</header>
	
	<!-- Main Content -->
	<div class="container">
		<div class="row">
			<div class="col-lg-8 col-md-10 mx-auto">
				@RenderBody()
			</div>
		</div>
	</div>

	<hr>

	<!-- Footer -->
	<footer>
		@Html.Partial("_Footer")
	</footer>

	<!-- Bootstrap core JavaScript -->
	<script src="@Context.GetLink("/assets/vendor/jquery/jquery.min.js")"></script>
	<script src="@Context.GetLink("/assets/vendor/bootstrap/js/bootstrap.bundle.min.js")"></script>

	<!-- Custom scripts for this template -->
	<script src="@Context.GetLink("/assets/js/clean-blog.min.js")"></script>
	*@

	<script src="@Context.GetLink("/assets/vendor/highlight/highlight.pack.js")"></script>
	<script>hljs.initHighlightingOnLoad();</script>

	@Html.Partial("_Scripts")

</body>

</html>
